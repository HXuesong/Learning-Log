2020年4月24日
by HXuesong



#Typescript初识
from 蚂蚁金服 · 数据体验技术团队的一篇文章《TypeScript体系调研报告》



### 1. TS是什么 ?

![img](https://pic3.zhimg.com/50/v2-597320a9c9e22af51e754ace278857a4_hd.jpg)

TypeScript = Type + Script（标准JS）。



### 2. 为什么要用TS ?

**目标：生命周期较长的复杂SPA应用，保障开发效率的同时提升代码的可维护性和线上运行时质量。**

- **从开发效率上看**，虽然需要多写一些类型定义代码，但 TS 在 VSCode、WebStorm 等 IDE 下可以做到智能提示，智能感知 bug，同时我们项目常用的一些第三方类库框架都有 TS 类型声明，我们也可以给那些没有 TS 类型声明的稳定模块写声明文件，如我们的前端 KOP 框架(目前还是蚂蚁内部框架，类比 dva )，这在团队协作项目中可以提升整体的开发效率。

- **从可维护性上看**，长期迭代维护的项目开发和维护的成员会有很多，团队成员水平会有差异，而软件具有**熵**的特质，长期迭代维护的项目总会遇到可维护性逐渐降低的问题，有了强类型约束和静态检查，以及智能 IDE 的帮助下，可以降低软件腐化的速度，提升可维护性，且在**重构**时，强类型和静态类型检查会帮上大忙，甚至有了类型定义，会不经意间增加重构的频率（更安全、放心）。

- **从线上运行时质量上看**，我们现在的 SPA 项目的很多 bug 都是由于一些调用方和被调用方（如组件模块间的协作、接口或函数的调用）的数据格式不匹配引起的，由于 TS 有编译期的静态检查，让我们的 bug 尽可能消灭在编译器，加上 IDE 有智能纠错，编码时就能提前感知 bug 的存在，我们的线上运行时质量会更为稳定可控。 

  

### 3. 使用 TS 的成本 

理论上学习并应用一门新语言是需要很高成本的，但好在 TS 本身是 JS 的超集，这也意味着他本身是可以支持现有 JS 代码的，至少理论上是这样。学习一下类型系统的相关知识和面向对象的基础知识，应该可以 hold 住 TS，成本不会很高。[官方文档](https://link.zhihu.com/?target=https%3A//link.juejin.im/%3Ftarget%3Dhttp%3A%2F%2Fwww.typescriptlang.org%2Findex.html)是最好的学习材料。



### 4. 社区发展

从 Stackoverflow 的[2017年开发者调查报告](https://link.zhihu.com/?target=https%3A//link.juejin.im/%3Ftarget%3Dhttps%3A%2F%2Finsights.stackoverflow.com%2Fsurvey%2F2017%23technology-most-loved-dreaded-and-wanted-languages)、[Google趋势](https://link.zhihu.com/?target=https%3A//link.juejin.im/%3Ftarget%3Dhttps%3A%2F%2Ftrends.google.com%2Ftrends%2Fexplore%3Fdate%3Dtoday%25205-y%26q%3D%252Fm%252F0n50hxv)、[npm下载量趋势](https://link.zhihu.com/?target=https%3A//link.juejin.im/%3Ftarget%3Dhttp%3A%2F%2Fwww.npmtrends.com%2Ftypescript)上可以到看，TypeScript社区发展很快，特别是最近几年。特别是伴随着 VS Code 的诞生（ TS 写的，对 TS 支持非常友好），VS Code + TypeScript 的组合让前端圈产生了一股清流，生产力和规范性得到了快速提升。从 Google 对 TS 的支持（Angular 高于 2 的版本是 TS 写的）看到，国际大厂也是支持的。
从蚂蚁集团内部看，Ant Design、Basement 等产品也是基于 TS 写的（至少是在大量使用），虽然有一些反对的声音，但总体还是看好的，有合适的土壤就会快速发展，如 Ant Design。



### 5. 接受TS

TS 刚出来时我是有点抵触的，或者对她的感觉就跟和`CoffeeScript`、`Dart`等编译到JS语言差不多，感觉就是其他语言往JS渗透的产物，近一两年，社区中TS的声音越来越强，而我也开始做大型 JavaScript 应用，随之逐渐重新认识 TS，逐渐认识到 TS 的类型系统、TSC 的静态检查、VS Code 等 IDE 的强力支持对于开发出可维护性好、稳定性高的大型 JavaScript 应用的重要性。



### 6. 权衡

如何更好的利用 JS 的动态性和 TS 的静态特质，我们需要结合项目的实际情况来进行综合判断。一些建议：

- 如果是中小型项目，且生命周期不是很长，那就直接用 JS 吧，不要被 TS 束缚住了手脚。
- 如果是大型应用，且生命周期比较长，那建议试试 TS。
- 如果是框架、库之类的公共模块，那更建议用 TS 了。

**至于到底用不用 TS，还是要看实际项目规模、项目生命周期、团队规模、团队成员情况等实际情况综合考虑。**

**所以 TypeScript 能不能成为了你的 “刚需” 就看你自己的情况了。**



### 7. 项目实战

Vue3.0 将使用 TS 重写，重写后的 Vue3.0 将更好的支持 TS。2019 年 TypeScript 将会更加普及，能够熟练掌握 TS，并使用 TS 开发过项目，将更加成为前端开发者的优势。



如果你想了解**更多**，请访问：
```
https://channel9.msdn.com/posts/Anders-Hejlsberg-Introducing-TypeScript
```
> TypeScript with Anders Hejlsberg



#前端面试问题集锦
起因：帮教授对20届研究生进行前端开发能力面试。



## B01
1. 请进行1分钟的自我介绍，让我们认识一下你。

2. 在简历上看到你有一年的工作经历，那么请你简单介绍一下你之前所在的事业群，团队的技术栈，以及你在之前团队处于什么样的角色。另外我蛮好奇的是，是什么原因让你毕业后选择工作，又是什么原因让你在工作一年之后，再次选择考研，你可否跟我们分享一下。

3. 请你讲一下你做过的最有代表性，与前端技术相关的1-2个项目，包括项目概述，项目包括哪些功能模块以及你所用到的技术栈。如果可以，请你做屏幕分享进行展示。

4. 在校期间你是通过什么方法和途径来学习前端的。

5. 你遇到过比较难的技术问题是，你是如何解决的。

6. 请你简单讲一下ES6的新特性。
```
a.增加块作用域
b.增加let const
c.解构赋值
d.函数参数扩展，函数参数可以使用默认值、不定参数以及拓展参数
e.增加class类的支持
f.增加箭头函数
g.增加模块和模块加载，ES6中开始支持原生模块化
h.math, number, string, array, object增加新的API
```



7. 请你讲一下ES6箭头函数中的this与普通函数中的this的区别。
```
普通函数中的this:

a. this总是代表它的直接调用者，例如obj.func，那么func中的this就是obj；
b.在默认情况(非严格模式下，未使用'use strict')，没找到直接调用者，则this指的window；
c. 在严格模式下，没有直接调用者的函数中的this是undefined；
4.使用call，apply，bind(ES5新增)绑定的，this指的是绑定的对象；

箭头函数中的this：

默认指向在定义它时所处的对象，而不是执行时的对象，定义它的时候，可能环境是window（即继承父级的this）。
```



8. VUE适合哪些工作场景。
```
数据操作比较多的场景，更加便捷。
```



9. 讲一下v-if和v-show的共同点和不同点。
```
使用v-if的时候，如果值为false，那么页面将不会有这个html标签生成；
v-show则是不管值为true还是false，html元素都会存在，只是CSS中的display显示或隐藏。
```



10. VUE.CLI中如何使用自定义的组件，分哪几步。
```
a. 在components目录新建你的组件文件（smithButton.vue），script一定要export default {

b. 在需要用的页面（组件）中导入：import smithButton from ‘../components/smithButton.vue’

c. 注入到vue的子组件的components属性上面,components:{smithButton}

d. 在template视图view中使用，<smith-button>  </smith-button>
```



11. VUE组件间通信方式有哪些。
```
https://www.cnblogs.com/fundebug/p/10884896.html
```



12. 用你自己的理解讲一下VUEX是什么。
```
VueX是一个专门为vue构建的状态集管理。主要为了解决组件之间状态共享的问题。强调的是集中式管理。主要是便于维护、便于解耦，不是所有项目都适合vuex，如果不是构建大型项目，会使代码变得繁琐多余。
```



13. 简述一下SASS、LESS之间的区别
```
LESS和Sass之间的主要区别是他们的实现方式不同，LESS是基于JavaScript运行,所以LESS是在客户端处理；
Sass是基于Ruby的，是在服务器端处理的。很多开发者不选择LESS是因为LESS输出修改过的CSS到浏览器需要依赖于Javascript引擎，而Javascript引擎需要额外的时间来处理代码。
```



14. 你的简历上有写WX小程序的开发经历，那么你觉得小程序相较其他应用有哪些优劣势。
```
优势：
a. 无需下载，通过搜索和扫一扫就可以打开；
b. 良好的用户体验，打开速度快；
c. 开发成本要比App要低；
d. 安卓上可以添加到桌面，与原生App差不多；
e. 为用户提供良好的安全保障。小程序的发布，微信拥有一套严格的审查流程，不能通过审查的小程序是无法发布到线上的。

劣势：
a. 限制较多，页面大小不能超过1M，不能打开超过5个层级的页面；
b. 样式单一，小程序的部分组件已经是成型的了，样式不可以修改，例如：幻灯片、导航；
c.推广面窄，不能分享朋友圈，只能通过分享给朋友，附近小程序推广，其中附近小程序也受到微信的限制；
d. 依托于微信，无法开发后台管理功能。
```



15. WEBPACK有哪些常见 loader 和 plugin，你用过哪些。
```
file-loader：把文件输出到一个文件夹中，在代码中通过相对 URL 去引用输出的文件
source-map-loader：加载额外的 Source Map 文件，以方便断点调试
image-loader：加载并且压缩图片文件
babel-loader：把 ES6 转换成 ES5
css-loader：加载 CSS，支持模块化、压缩、文件导入等特性
eslint-loader：通过 ESLint 检查 JavaScript 代码
define-plugin：定义环境变量
commons-chunk-plugin：提取公共代码
uglifyjs-webpack-plugin：通过UglifyES压缩ES6代码
```



16. 平时如何管理你的项目，用到哪些工具。

17. 低版本浏览器不支持HTML5标签怎么解决。



18. 一个页面上有大量的图片，加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。
```
a. 图片懒加载，滚动到相应位置才加载图片。
b. 图片预加载，如果为幻灯片、相册等，将当前展示图片的前一张和后一张优先下载。
c. 使用CSSsprite，SVGsprite，Iconfont、Base64等技术，如果图片为css图片的话。
d. 如果图片过大，可以使用特殊编码的图片，加载时会先加载一张压缩的特别厉害的缩略图，以提高用户体验。
```



## B02
1. 请进行1分钟的自我介绍，让我们认识一下你。



2. 请你讲一下你做过的最有代表性，与前端技术相关的1-2个项目，包括项目概述，项目包括哪些功能模块以及你所用到的技术栈。如果可以，请你做屏幕分享进行展示。



3. 在校期间你是通过什么方法和途径来学习前端的。



4. 你遇到过比较难的技术问题是，你是如何解决的。



5. 因为我看你简历上有写“擅长Web开发技术”，那请你讲一下现在主流的前端开发技术有哪些，你对现在主流的框架有没有了解？
[2020年前端三大顶级技术趋势是什么？](https://blog.csdn.net/Ed7zgeE9X/article/details/104322884/)



6. 请介绍一下什么是CDIO，以及风讯站群管理系统。
```
CDIO是一种工程教育模式。

CDIO代表构思（Conceive）、设计（Design）、实现（Implement）和运作（Operate）,它以产品研发到产品运行的生命周期为载体 ,让学度生以主动的、 实践的、 课程之间有机联系的方式学习工程知。CDIO培养大纲将工程毕业道生的能力分为工程基础知识、 个人能力、 人际团队能力和工程系统能力四个层面,大纲要求以综合的培养方式使学生在这四个层面达到预属定目标。
```
```
风讯网站管理系统包括了信息采集、整理、分类、审核、发布和管理的全过程，具备完善的信息管理和发布管理功能，是企事业单位网站、内部网站和各类ICP网站内容管理和维护的理想工具。
```



7. 从输入URL到显示页面，都经历了什么？
```
首先从DNS解析域名获取ip地址，根据ip地址找到服务器，服务器根据地址请求返回页面相关数据，浏览器获取到数据进行页面加载渲染页面。

详细过程：
1、首先，在浏览器地址栏中输入url；
2、浏览器先查看浏览器缓存-系统缓存-路由器缓存，如果缓存中有，会直接在屏幕中显示页面内容，若没有，则跳到第三步操作；
3、在发送http请求前，需要域名解析，解析获取相应的IP地址；
4、浏览器向服务器发起tcp连接，与浏览器建立tcp三次握手。
5、握手成功后，浏览器向服务器发送http请求，请求数据包；
6、服务器处理收到的请求，将数据返回至浏览器；
7、浏览器收到HTTP响应；
8、读取页面内容，浏览器渲染，解析html源码；
9、生成Dom树、解析css样式、js交互；
10、客户端和服务器交互；
11、ajax查询。
```



8. POST 和 GET 方式提交数据有什么区别？
```
get ：
1、明文提交，提交的数据是可以显示在地址栏上的；
2、安全性低；
3、大小限制为2kb。

post:
1、隐式提交，提交的数据不显示在网页上；
2、安全性高；
3、无大小限制。
```



9. 常见的HTTP状态码有哪些？



10. 说一说你用过的CSS布局。
```
gird布局，layout布局，flex布局，双飞翼，圣杯布局等
```



11. CSS选择器有哪些？
[CSS选择器有哪些？](https://www.jianshu.com/p/1d6efea3db1c)



12. 讲一下px，rem，em，vw，vh的区别。
[Css单位px，rem，em，vw，vh的区别](https://www.cnblogs.com/theblogs/p/10516098.html)



13. javascript有几种数据类型，其中基本数据类型有哪些？
```
五种基本类型: Undefined、Null、Boolean、Number和String。
引用类型: Object、Array和Function。
```



14. 说一说什么是跨域，应该如何解决？
```
由于浏览器的同源策略会导致跨域，同源策略又分为：

1、DOM同源策略：禁止对不同源页面的DOM进行操作，主要是不同域名的ifram是限制互相访问的；

2、xmlHttpRequest同源策略：禁止使用XHR对象向不同源的服务器地址发起http请求，只要域名协议  端口有一个不同都被当做不同的域之间的请求，即跨域请求。

解决方式：

1、CORS跨域资源共享，后端需要设置Access--Control-Allow-Credentials:true

2、jsonp实现跨域，动态创建script，利用src属性进行跨域

3、nginx代理跨域

4、node.js中间件代理跨域

5、WebSokect协跨域

6、window.name+ifram跨域
```



15. 微信小程序有几个文件？
```
WXML：是框架设计的一套标签语言，结合基础组件、事件系统，可以构建出页面的结构；
WXSS：是一套样式语言，用于描述 WXML 的组件样式；
js：逻辑处理，网络请求；
json：小程序设置，如页面注册，页面标题及tabBar。
```



16. 简单讲下微信小程序原理。
```
微信小程序采用JavaScript、WXML、WXSS三种技术进行开发，本质就是一个单页面应用，所有的页面渲染和事件处理都在一个页面内进行，但又可以通过微信客户端调用原生的各种接口；

微信的架构，是数据驱动的架构模式，它的UI和数据是分离的，所有的页面更新，都需要通过对数据的更改来实现；

小程序分为两个部分webview和appService。其中webview主要用来展现UI，appService 有来处理业务逻辑、数据及接口调用。它们在两个进程中运行，通过系统层JSBridge实现通信，实现UI的渲染、事件的处理。
```



17. 你觉得小程序相较其他应用有哪些优劣势。
```
优势：
a. 无需下载，通过搜索和扫一扫就可以打开；
b. 良好的用户体验，打开速度快；
c. 开发成本要比App要低；
d. 安卓上可以添加到桌面，与原生App差不多；
e. 为用户提供良好的安全保障。小程序的发布，微信拥有一套严格的审查流程，不能通过审查的小程序是无法发布到线上的。

劣势：
a. 限制较多，页面大小不能超过1M，不能打开超过5个层级的页面；
b. 样式单一，小程序的部分组件已经是成型的了，样式不可以修改，例如：幻灯片、导航；
c.推广面窄，不能分享朋友圈，只能通过分享给朋友，附近小程序推广，其中附近小程序也受到微信的限制；
d. 依托于微信，无法开发后台管理功能。
```



18. 你有自己的个人技术博客吗？



19. 我看你在简历上有写“遇到困难题目，常浏览CSDN、博客园、简书等网站进行学习。 ”那么就你自己的使用感受来说，CSDN、博客园、简书这三个技术分享网站各有什么优势？



20. 你知道Stack Overflow吗？ 



21. 平时如何管理你的项目，用到哪些工具。



## B03
1. 请进行1分钟的自我介绍，让我们认识一下你。



2. 在简历上看到你是学校“软件开发实验室”的一员，那么请你简单介绍一下实验室有哪几个部门，大概是怎样的一个规模，以及你所负责的工作。



2. 请你讲一下你做过的最有代表性，与前端技术相关的1-2个项目，包括项目概述，项目包括哪些功能模块以及你所用到的技术栈。如果可以，请你做屏幕分享进行展示。



4. 你遇到过比较难的技术问题是，你是如何解决的。



5. 从输入URL到显示页面，都经历了什么？
```
首先从DNS解析域名获取ip地址，根据ip地址找到服务器，服务器根据地址请求返回页面相关数据，浏览器获取到数据进行页面加载渲染页面。

详细过程：
1、首先，在浏览器地址栏中输入url；
2、浏览器先查看浏览器缓存-系统缓存-路由器缓存，如果缓存中有，会直接在屏幕中显示页面内容，若没有，则跳到第三步操作；
3、在发送http请求前，需要域名解析，解析获取相应的IP地址；
4、浏览器向服务器发起tcp连接，与浏览器建立tcp三次握手。
5、握手成功后，浏览器向服务器发送http请求，请求数据包；
6、服务器处理收到的请求，将数据返回至浏览器；
7、浏览器收到HTTP响应；
8、读取页面内容，浏览器渲染，解析html源码；
9、生成Dom树、解析css样式、js交互；
10、客户端和服务器交互；
11、ajax查询。
```



6. POST 和 GET 方式提交数据有什么区别？
```
get ：
1、明文提交，提交的数据是可以显示在地址栏上的；
2、安全性低；
3、大小限制为2kb。

post:
1、隐式提交，提交的数据不显示在网页上；
2、安全性高；
3、无大小限制。
```



7. 说一说你用过的CSS布局。
```
gird布局，layout布局，flex布局，双飞翼，圣杯布局等
```



8. CSS选择器有哪些？
[CSS选择器有哪些？](https://www.jianshu.com/p/1d6efea3db1c)




9. 说一说什么是跨域，应该如何解决？
```
由于浏览器的同源策略会导致跨域，同源策略又分为：

1、DOM同源策略：禁止对不同源页面的DOM进行操作，主要是不同域名的ifram是限制互相访问的；

2、xmlHttpRequest同源策略：禁止使用XHR对象向不同源的服务器地址发起http请求，只要域名协议  端口有一个不同都被当做不同的域之间的请求，即跨域请求。

解决方式：

1、CORS跨域资源共享，后端需要设置Access--Control-Allow-Credentials:true

2、jsonp实现跨域，动态创建script，利用src属性进行跨域

3、nginx代理跨域

4、node.js中间件代理跨域

5、WebSokect协跨域

6、window.name+ifram跨域
```



10. 什么是ajax，如何使用？
```
ajax(异步javascript xml) 能够刷新局部网页数据而不是重新加载整个网页。

如何使用ajax?
第一步，创建xmlhttprequest对象；
第二步，使用xmlhttprequest对象的open（）和send（）方法发送资源请求给服务器；
第三步，使用xmlhttprequest对象的responseText或responseXML属性获得服务器的响应；
第四步，onreadystatechange函数，当发送请求到服务器，我们想要服务器响应执行一些功能就需要使用onreadystatechange函数，每次xmlhttprequest对象的readyState发生改变都会触发onreadystatechange函数。
```



11. 你了解的目前主流的前端UI框架有哪些？
[目前流行前端几大UI框架排行榜](https://www.cnblogs.com/doseoer/p/11003692.html)




12. 为什么要用LayUI这个框架，你觉得它有哪些优势？



13. LayUI如何加载模块？
```
预先加载和按需加载两种模式。
```



14. LayUI中流加载有哪几种形式？
```
滚动加载、手工加载、懒加载
```
[LayUI流加载](https://www.layui.com/demo/flow.html)



15. 我看你的简历中有写“调研并学习富文本编辑”，那么请你讲一下什么是富文本编辑器，你在学习过程中有没有碰到什么坑，以及你是怎么解决的。



16. 请你描述一下SSE与WebSocket的异同点。
```
WebSocket 和 SSE 都是传统请求-响应 Web 架构的替代方案，但它们不是完全冲突的技术。WebSocket 架构在客户端与服务器之间打开一个套接字，用于实现全双工（双向）通信。无需发送 GET 消息并等待服务器响应，客户端只需监听该套接字，接收服务器更新，并使用收到的数据来发起或支持各种交互。客户端也可以使用套接字与服务器通信，例如在成功收到更新时发送 ACK 消息。

SSE 是一种更简单的标准，是作为 HTML5 的扩展而开发的。尽管 SSE 支持从服务器向客户端发送异步消息，但客户端无法向服务器发送消息。对于客户端只需接收从服务器传入的更新的应用程序，SSE 的半双工通信模型最适合。与 WebSocket 相比，SSE 的一个优势是它是基于 HTTP 而运行的，不需要其他组件。

对于需要在客户端与服务器之间频繁通信的多用途 Web 应用程序，显然应该选择 WebSocket。对于希望从服务器向客户端传输异步数据，而不需要响应的应用程序，SSE 更适合一些。
```
[使用 WebSocket 和 SSE 实现 HTTP 服务器推送](https://www.ibm.com/developerworks/cn/web/wa-http-server-push-with-websocket-sse/index.html?lnk=hmhm)



17. 简历上呈现了，你有过“设计网站界面”的经历，那么想问一下，你常用的PC网页设计画布宽度以及高度分别是多大？
```
PC端网页设计画布宽度一般为1920px，在设计时，网页高度随着需求变化，页面高度有效范围应该控制在1000px~1200px，网页的高度都在1000px左右。
```



18. 平时如何管理你的项目，用到哪些工具。