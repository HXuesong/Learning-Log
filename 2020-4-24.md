2020年4月24日
by HXuesong



#Typescript初识
from 蚂蚁金服 · 数据体验技术团队的一篇文章《TypeScript体系调研报告》



### 1. TS是什么 ?

![img](https://pic3.zhimg.com/50/v2-597320a9c9e22af51e754ace278857a4_hd.jpg)

TypeScript = Type + Script（标准JS）。



### 2. 为什么要用TS ?

**目标：生命周期较长的复杂SPA应用，保障开发效率的同时提升代码的可维护性和线上运行时质量。**

- **从开发效率上看**，虽然需要多写一些类型定义代码，但 TS 在 VSCode、WebStorm 等 IDE 下可以做到智能提示，智能感知 bug，同时我们项目常用的一些第三方类库框架都有 TS 类型声明，我们也可以给那些没有 TS 类型声明的稳定模块写声明文件，如我们的前端 KOP 框架(目前还是蚂蚁内部框架，类比 dva )，这在团队协作项目中可以提升整体的开发效率。

- **从可维护性上看**，长期迭代维护的项目开发和维护的成员会有很多，团队成员水平会有差异，而软件具有**熵**的特质，长期迭代维护的项目总会遇到可维护性逐渐降低的问题，有了强类型约束和静态检查，以及智能 IDE 的帮助下，可以降低软件腐化的速度，提升可维护性，且在**重构**时，强类型和静态类型检查会帮上大忙，甚至有了类型定义，会不经意间增加重构的频率（更安全、放心）。

- **从线上运行时质量上看**，我们现在的 SPA 项目的很多 bug 都是由于一些调用方和被调用方（如组件模块间的协作、接口或函数的调用）的数据格式不匹配引起的，由于 TS 有编译期的静态检查，让我们的 bug 尽可能消灭在编译器，加上 IDE 有智能纠错，编码时就能提前感知 bug 的存在，我们的线上运行时质量会更为稳定可控。 

  

### 3. 使用 TS 的成本 

理论上学习并应用一门新语言是需要很高成本的，但好在 TS 本身是 JS 的超集，这也意味着他本身是可以支持现有 JS 代码的，至少理论上是这样。学习一下类型系统的相关知识和面向对象的基础知识，应该可以 hold 住 TS，成本不会很高。[官方文档](https://link.zhihu.com/?target=https%3A//link.juejin.im/%3Ftarget%3Dhttp%3A%2F%2Fwww.typescriptlang.org%2Findex.html)是最好的学习材料。



### 4. 社区发展

从 Stackoverflow 的[2017年开发者调查报告](https://link.zhihu.com/?target=https%3A//link.juejin.im/%3Ftarget%3Dhttps%3A%2F%2Finsights.stackoverflow.com%2Fsurvey%2F2017%23technology-most-loved-dreaded-and-wanted-languages)、[Google趋势](https://link.zhihu.com/?target=https%3A//link.juejin.im/%3Ftarget%3Dhttps%3A%2F%2Ftrends.google.com%2Ftrends%2Fexplore%3Fdate%3Dtoday%25205-y%26q%3D%252Fm%252F0n50hxv)、[npm下载量趋势](https://link.zhihu.com/?target=https%3A//link.juejin.im/%3Ftarget%3Dhttp%3A%2F%2Fwww.npmtrends.com%2Ftypescript)上可以到看，TypeScript社区发展很快，特别是最近几年。特别是伴随着 VS Code 的诞生（ TS 写的，对 TS 支持非常友好），VS Code + TypeScript 的组合让前端圈产生了一股清流，生产力和规范性得到了快速提升。从 Google 对 TS 的支持（Angular 高于 2 的版本是 TS 写的）看到，国际大厂也是支持的。
从蚂蚁集团内部看，Ant Design、Basement 等产品也是基于 TS 写的（至少是在大量使用），虽然有一些反对的声音，但总体还是看好的，有合适的土壤就会快速发展，如 Ant Design。



### 5. 接受TS

TS 刚出来时我是有点抵触的，或者对她的感觉就跟和`CoffeeScript`、`Dart`等编译到JS语言差不多，感觉就是其他语言往JS渗透的产物，近一两年，社区中TS的声音越来越强，而我也开始做大型 JavaScript 应用，随之逐渐重新认识 TS，逐渐认识到 TS 的类型系统、TSC 的静态检查、VS Code 等 IDE 的强力支持对于开发出可维护性好、稳定性高的大型 JavaScript 应用的重要性。



### 6. 权衡

如何更好的利用 JS 的动态性和 TS 的静态特质，我们需要结合项目的实际情况来进行综合判断。一些建议：

- 如果是中小型项目，且生命周期不是很长，那就直接用 JS 吧，不要被 TS 束缚住了手脚。
- 如果是大型应用，且生命周期比较长，那建议试试 TS。
- 如果是框架、库之类的公共模块，那更建议用 TS 了。

**至于到底用不用 TS，还是要看实际项目规模、项目生命周期、团队规模、团队成员情况等实际情况综合考虑。**

**所以 TypeScript 能不能成为了你的 “刚需” 就看你自己的情况了。**



### 7. 项目实战

Vue3.0 将使用 TS 重写，重写后的 Vue3.0 将更好的支持 TS。2019 年 TypeScript 将会更加普及，能够熟练掌握 TS，并使用 TS 开发过项目，将更加成为前端开发者的优势。







#前端面试问题集锦
起因：帮实验室老师对20届研究生进行前端开发能力面试。



1. 请进行1分钟的自我介绍，让我们认识一下你。

2. 在简历上看到你有一年的工作经历，那么请你简单介绍一下你之前所在的事业群，团队的技术栈，以及你在之前团队处于什么样的角色。另外我蛮好奇的是，是什么原因让你毕业后选择工作，又是什么原因让你在工作一年之后，再次选择考研，你可否跟我们分享一下。

3. 请你讲一下你做过的最有代表性，与前端技术相关的1-2个项目，包括项目概述，项目包括哪些功能模块以及你所用到的技术栈。如果可以，请你做屏幕分享进行展示。

4. 在校期间你是通过什么方法和途径来学习前端的。

5. 你遇到过比较难的技术问题是，你是如何解决的。

6. 请你简单讲一下ES6的新特性。
```
a.增加块作用域
b.增加let const
c.解构赋值
d.函数参数扩展，函数参数可以使用默认值、不定参数以及拓展参数
e.增加class类的支持
f.增加箭头函数
g.增加模块和模块加载，ES6中开始支持原生模块化
h.math, number, string, array, object增加新的API
```



7. 请你讲一下ES6箭头函数中的this与普通函数中的this的区别。
```
普通函数中的this:

a. this总是代表它的直接调用者，例如obj.func，那么func中的this就是obj；
b.在默认情况(非严格模式下，未使用'use strict')，没找到直接调用者，则this指的window；
c. 在严格模式下，没有直接调用者的函数中的this是undefined；
4.使用call，apply，bind(ES5新增)绑定的，this指的是绑定的对象；

箭头函数中的this：

默认指向在定义它时所处的对象，而不是执行时的对象，定义它的时候，可能环境是window（即继承父级的this）。
```



8. VUE适合哪些工作场景。
```
数据操作比较多的场景，更加便捷。
```



9. 讲一下v-if和v-show的共同点和不同点。
```
使用v-if的时候，如果值为false，那么页面将不会有这个html标签生成；
v-show则是不管值为true还是false，html元素都会存在，只是CSS中的display显示或隐藏。
```



10. VUE.CLI中如何使用自定义的组件，分哪几步。
```
a. 在components目录新建你的组件文件（smithButton.vue），script一定要export default {

b. 在需要用的页面（组件）中导入：import smithButton from ‘../components/smithButton.vue’

c. 注入到vue的子组件的components属性上面,components:{smithButton}

d. 在template视图view中使用，<smith-button>  </smith-button>
```



11. VUE组件间通信方式有哪些。
```
https://www.cnblogs.com/fundebug/p/10884896.html
```



12. 用你自己的理解讲一下VUEX是什么。
```
VueX是一个专门为vue构建的状态集管理。主要为了解决组件之间状态共享的问题。强调的是集中式管理。主要是便于维护、便于解耦，不是所有项目都适合vuex，如果不是构建大型项目，会使代码变得繁琐多余。
```



13. 简述一下SASS、LESS之间的区别
```
LESS和Sass之间的主要区别是他们的实现方式不同，LESS是基于JavaScript运行,所以LESS是在客户端处理；
Sass是基于Ruby的，是在服务器端处理的。很多开发者不选择LESS是因为LESS输出修改过的CSS到浏览器需要依赖于Javascript引擎，而Javascript引擎需要额外的时间来处理代码。
```



14. 你的简历上有写WX小程序的开发经历，那么你觉得小程序相较其他应用有哪些优劣势。
```
优势：
a. 无需下载，通过搜索和扫一扫就可以打开；
b. 良好的用户体验，打开速度快；
c. 开发成本要比App要低；
d. 安卓上可以添加到桌面，与原生App差不多；
e. 为用户提供良好的安全保障。小程序的发布，微信拥有一套严格的审查流程，不能通过审查的小程序是无法发布到线上的。

劣势：
a. 限制较多，页面大小不能超过1M，不能打开超过5个层级的页面；
b. 样式单一，小程序的部分组件已经是成型的了，样式不可以修改，例如：幻灯片、导航；
c.推广面窄，不能分享朋友圈，只能通过分享给朋友，附近小程序推广，其中附近小程序也受到微信的限制；
d. 依托于微信，无法开发后台管理功能。
```



15. WEBPACK有哪些常见 loader 和 plugin，你用过哪些。
```
file-loader：把文件输出到一个文件夹中，在代码中通过相对 URL 去引用输出的文件
source-map-loader：加载额外的 Source Map 文件，以方便断点调试
image-loader：加载并且压缩图片文件
babel-loader：把 ES6 转换成 ES5
css-loader：加载 CSS，支持模块化、压缩、文件导入等特性
eslint-loader：通过 ESLint 检查 JavaScript 代码
define-plugin：定义环境变量
commons-chunk-plugin：提取公共代码
uglifyjs-webpack-plugin：通过UglifyES压缩ES6代码
```



16. 平时如何管理你的项目，用到哪些工具。

17. 低版本浏览器不支持HTML5标签怎么解决。



18. 一个页面上有大量的图片，加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。
```
a. 图片懒加载，滚动到相应位置才加载图片。
b. 图片预加载，如果为幻灯片、相册等，将当前展示图片的前一张和后一张优先下载。
c. 使用CSSsprite，SVGsprite，Iconfont、Base64等技术，如果图片为css图片的话。
d. 如果图片过大，可以使用特殊编码的图片，加载时会先加载一张压缩的特别厉害的缩略图，以提高用户体验。
```